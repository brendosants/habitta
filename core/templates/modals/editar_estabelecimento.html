<form id="formEdicao" method="POST" action="{{ url_for('estabelecimentos.atualizar', id=estabelecimento.id) }}">
    <div class="modal-header bg-warning">
        <h5 class="modal-title">Editar {{ estabelecimento.nome }}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="form-group">
            <label for="nome">Nome *</label>
            <input type="text" class="form-control" id="nome" name="nome" value="{{ estabelecimento.nome }}" required>
        </div>
        
        <div class="form-group">
            <label for="tipo">Tipo *</label>
            <select class="form-control" id="tipo" name="tipo" required>
                <option value="comercial" {% if estabelecimento.tipo == 'comercial' %}selected{% endif %}>Comercial</option>
                <option value="residencial" {% if estabelecimento.tipo == 'residencial' %}selected{% endif %}>Residencial</option>
                <option value="misto" {% if estabelecimento.tipo == 'misto' %}selected{% endif %}>Misto</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="bairro">Bairro *</label>
            <input type="text" class="form-control" id="bairro" name="bairro" value="{{ estabelecimento.bairro }}" required>
        </div>
        
        <div class="form-row">
            <div class="form-group col-md-4">
                <label for="faixa_min">Faixa Mínima (R$) *</label>
                <input type="number" step="0.01" class="form-control" id="faixa_min" name="faixa_min" 
                       value="{{ estabelecimento.faixa_min }}" required>
            </div>
            <div class="form-group col-md-4">
                <label for="valor_medio">Valor Médio (R$)</label>
                <input type="number" step="0.01" class="form-control" id="valor_medio" name="valor_medio" 
                       value="{{ estabelecimento.valor_medio or '' }}">
            </div>
            <div class="form-group col-md-4">
                <label for="faixa_max">Faixa Máxima (R$) *</label>
                <input type="number" step="0.01" class="form-control" id="faixa_max" name="faixa_max" 
                       value="{{ estabelecimento.faixa_max }}" required>
            </div>
        </div>
        
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="contato_nome">Nome do Contato</label>
                <input type="text" class="form-control" id="contato_nome" name="contato_nome" 
                       value="{{ estabelecimento.contato_nome or '' }}">
            </div>
            <div class="form-group col-md-6">
                <label for="contato_telefone">Telefone</label>
                <input type="tel" class="form-control" id="contato_telefone" name="contato_telefone" 
                       value="{{ estabelecimento.contato_telefone or '' }}"
                       pattern="\(?\d{2}\)?[\s-]?\d{4,5}[\s-]?\d{4}"
                       title="Formato: (99) 99999-9999 ou 99 9999-9999">
            </div>
        </div>
        
        <div class="form-group">
            <label for="observacoes">Observações</label>
            <textarea class="form-control" id="observacoes" name="observacoes" rows="3">{{ estabelecimento.observacoes or '' }}</textarea>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
        <button type="submit" class="btn btn-primary">Salvar Alterações</button>
    </div>
</form>